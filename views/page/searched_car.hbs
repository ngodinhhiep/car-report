<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Car App</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous" />
    <script defer src="https://use.fontawesome.com/releases/v5.5.0/js/all.js" integrity="sha384-GqVMZRt5Gn7tB9D9q7ONtcp4gtHIUEW/yG7h98J7IpE3kpi+srfFyyB/04OV6pG0" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="/css/main.css" />
  </head>

  <body>
   <header class="header-bar mb-3">
    <div class="container d-flex flex-column flex-md-row align-items-center p-3">
        <button class="btn btn-primary" id="sidebarCollapse">
          <i class="fas fa-bars"></i>
        </button>
      <h4 class="my-0 mr-md-auto font-weight-normal"><a href="/" class="text-white">Car App</a></h4>
      <div class="flex-row my-3 my-md-0">
        <a href="#" class="text-white mr-2 header-search-icon" title="Search" data-toggle="tooltip" data-placement="bottom"><i class="fas fa-search"></i></a>
        <span class="text-white mr-2 header-chat-icon" title="Chat" data-toggle="tooltip" data-placement="bottom"><i class="fas fa-comment"></i></span>
        <a href="#" class="mr-2"><img title="My Profile" data-toggle="tooltip" data-placement="bottom" style="width: 32px; height: 32px; border-radius: 16px" src="https://gravatar.com/avatar/f64fc44c03a8a7eb1d52502950879659?s=128" /></a>
        <a class="btn btn-sm btn-success mr-2" href="/auth/user">Back to Main Page</a>
        <form action="/auth/signout" method="GET" class="d-inline">
          <button class="btn btn-sm btn-secondary">Sign Out</button>
        </form>
      </div>
    </div>
  </header>
<!-- header ends here -->

    <div class="sidebar" id="sidebar">
    <ul class="nav flex-column">
      <li class="nav-item">
        <a class="nav-link" href="/reports/all_reviews">View All Reviews</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/reports/review_history">Reviews History</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/cars/view_all_cars">Our Cars</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Contact</a>
      </li>
    </ul>
  </div>
      <!-- End of Sidebar -->


<div class="container" style="margin-top: 150px; margin-bottom: 100px">
  <h2 style="text-align: center;">Check Out Our Cars</h2>

  <!-- Search bar -->
<!-- Search bar -->
<div class="row mb-5">
  <div class="col-md-3">
    <form action="/cars/search/name" method="GET">
      <div class="input-group">
        <input type="search" class="form-control rounded" name="name" placeholder="Search" aria-label="Search" aria-describedby="search-addon" />
        <button type="submit" class="btn btn-outline-primary">Car name</button>
      </div>
    </form>
  </div>

  <div class="col-md-3">
    <form action="/cars/search/maker" method="GET">
      <div class="input-group">
        <input type="search" class="form-control rounded" name="maker" placeholder="Search" aria-label="Search" aria-describedby="search-addon" />
        <button type="submit" class="btn btn-outline-primary">Car maker</button>
      </div>
    </form>
  </div>

  <div class="col-md-3">
    <form action="/cars/search/price" method="GET">
      <div class="input-group">
        <input type="search" class="form-control rounded" name="fromPrice" placeholder="From" aria-label="From Price" aria-describedby="search-addon" />
      <input type="search" class="form-control rounded" name="toPrice" placeholder="To" aria-label="To Price" aria-describedby="search-addon" />
        <button type="submit" class="btn btn-outline-primary">Car price</button>
      </div>
    </form>
  </div>
</div>



  <div class="row">
    {{#each searchedCars}}
    <div class="col-md-4 mb-4">
      <div class="card">
        <img class="card-img-top" src="/uploads/{{ this.photo }}" alt="Car Photo" style="height: 200px; object-fit: cover;">
        <div class="card-body">
          <h5 class="card-title">{{this.name}}</h5>
          <p class="card-text">Maker: {{this.maker}}</p>
          <p class="card-text">Price: {{this.price}}</p>
          <form class="delete-form" method="GET" action="/reports/car_reviews/{{this.id}}">
            <input type="hidden" name="_method" value="DELETE">
            <button type="submit" class="btn btn-danger btn-sm">View Reviews</button>
          </form>
          <form class="edit-form" method="GET" action="/reports/post_review/{{this.id}}">
            <button type="submit" class="btn btn-dark btn-sm">Post A Review</button>
          </form>
        </div>
      </div>
    </div>
    {{/each}}
  </div>
  

      <!-- footer begins -->
    <footer class="border-top text-center small text-muted py-3">
      <p class="m-0">Copyright &copy; 2022 <a href="/" class="text-muted">OurApp</a>. All rights reserved.</p>
    </footer>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
   <script>
    $(document).ready(function () {
      // Toggle sidebar on button click
      $('#sidebarCollapse').on('click', function () {
        $('#sidebar').toggleClass('active');
      });
    });
  </script>
</body>
</html>

